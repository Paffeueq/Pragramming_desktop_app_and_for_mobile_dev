\chapter{Tworzenie aplikacji rozproszonych - .  NET Aspire}

\section{Wstęp}
.  NET Aspire to framework do tworzenia i zarządzania aplikacjami rozproszonymi.  Upraszcza orkestrację wielu usług, obsługuje monitoring i deployment. 

\section{Problemy przy wielu usługach}

\subsection{Bez Aspire}
\begin{itemize}
	\item Ręczne uruchamianie wielu projektów
	\item Różne porty i konfiguracje u różnych developerów
	\item Brak spójnej obserwowalności
	\item Ręczne tworzenie connection stringów
	\item Ręczne uruchamianie baz danych (Docker)
	\item Różne konfiguracje DEV vs PROD
\end{itemize}

\subsection{Z Aspire}
\begin{itemize}
	\item Deklaratywny opis zasobów (AppHost)
	\item Service Discovery (identyfikatory zamiast URL)
	\item Integracje (Redis, PostgreSQL, Service Bus)
	\item Automatyczne health checks i telemetria
	\item Resilience (retry, timeout, circuit breaker)
	\item Dashboard do monitorowania
	\item Wdrożenie na Azure Container Apps lub Kubernetes
\end{itemize}

\section{Kluczowe pojęcia}

\subsection{AppHost}
Projekt, który definiuje wszystkie zasoby i ich relacje. 

\subsection{Service Defaults}
Wspólne rozszerzenia dla wszystkich usług.

\subsection{Service Discovery}
Automatyczne odkrywanie usług bez podawania portów.

\section{Health Checks}

\subsection{/health}
Zwraca zdrowie usługi razem z zależnościami (baza, cache). 

\subsection{/alive}
Zwraca tylko, czy proces żyje.

\section{Telemetria}

\subsection{Logs}
Ustrukturyzowane logi zapisywane w Dashboard.

\subsection{Distributed Traces}
Śledzenie żądania przez wiele usług.

\subsection{Metrics}
HTTP metrics, GC stats, custom metrics.

\section{Resilience - Polly}

\subsection{Domyślnie wbudowane}
\begin{itemize}
	\item Retry z jitterem
	\item Timeout
	\item Circuit breaker
\end{itemize}

\section{Komponenty}

\subsection{Redis}
Pamięć podręczna dla rozproszonego cache'a.

\subsection{PostgreSQL}
Baza danych dla aplikacji rozproszonej.

\subsection{Service Bus}
Komunikacja między usługami.

\section{Pytania kontrolne}

\begin{enumerate}
	\item Jakie są główne problemy przy zarządzaniu wieloma usługami?
	\item Co to jest AppHost w .  NET Aspire?
	\item Jak Service Discovery ułatwia zarządzanie usługami?
	\item Jakie są różnice między /health a /alive?
	\item Jakie metryki zbiera Telemetria?
	\item Co to jest Polly i jakie strategie oferuje?
	\item Jak integrować Redis z .  NET Aspire?
	\item Jak monitorować aplikacje rozproszone?
\end{enumerate}